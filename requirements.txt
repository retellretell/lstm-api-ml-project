# 개선된 Requirements 파일
# 의존성 충돌 해결 및 안정성 향상

# Core dependencies (호환성 개선)
streamlit>=1.28.0,<1.35.0
pandas>=2.0.0,<2.3.0
numpy>=1.24.0,<1.27.0

# TensorFlow (GPU/CPU 자동 선택)
tensorflow>=2.13.0,<2.17.0
# 또는 CPU 전용: tensorflow-cpu>=2.13.0,<2.17.0

# ML and data processing
scikit-learn>=1.3.0,<1.6.0
scipy>=1.10.0,<1.14.0
joblib>=1.3.0,<1.5.0

# Visualization
plotly>=5.15.0,<5.20.0
matplotlib>=3.7.0,<3.9.0

# API and networking (안정성 개선)
aiohttp>=3.8.0,<3.10.0
requests>=2.28.0,<2.33.0

# Redis (선택적)
redis>=4.5.0,<5.1.0
# 또는 비동기: redis[hiredis]>=4.5.0,<5.1.0

# Retry and resilience
tenacity>=8.2.0,<8.5.0
backoff>=2.2.0,<2.3.0

# Korean market data APIs
pykrx>=1.0.40,<1.1.0
yfinance>=0.2.20,<0.3.0

# System monitoring and optimization
psutil>=5.9.0,<6.1.0
prometheus-client>=0.17.0,<0.21.0

# Configuration and environment
python-dotenv>=1.0.0,<1.1.0
pydantic>=2.0.0,<2.8.0
PyYAML>=6.0,<6.1

# Date and time handling
pytz>=2023.3,<2025.0

# Async utilities
asyncio-throttle>=1.0.0,<1.1.0

# Data validation and parsing
marshmallow>=3.19.0,<3.22.0
jsonschema>=4.17.0,<4.23.0

# Testing framework (개발/테스트용)
pytest>=7.4.0,<8.3.0
pytest-asyncio>=0.21.0,<0.24.0
pytest-mock>=3.11.0,<3.15.0
pytest-cov>=4.1.0,<5.1.0

# Development tools (선택적)
black>=23.0.0,<24.5.0
flake8>=6.0.0,<7.1.0
mypy>=1.5.0,<1.11.0

# Documentation (선택적)
sphinx>=7.1.0,<7.5.0
sphinx-rtd-theme>=1.3.0,<1.4.0

# Security enhancements
cryptography>=41.0.0,<43.0.0
certifi>=2023.7.22

# Memory profiling (디버깅용, 선택적)
memory-profiler>=0.61.0,<0.62.0
psutil>=5.9.0,<6.1.0

# Additional optimizations
numba>=0.57.0,<0.61.0  # JIT 컴파일러 (선택적)
cython>=0.29.0,<3.1.0  # C 확장 (선택적)

# 플랫폼별 최적화
# Windows 사용자용:
# pywin32>=306  # Windows 전용

# macOS 사용자용 (M1/M2 지원):
# tensorflow-macos>=2.13.0  # Apple Silicon 전용

# 주석:
# 1. 버전 범위를 명시하여 호환성 문제 방지
# 2. 선택적 의존성은 주석으로 표시
# 3. 플랫폼별 패키지는 별도 표시
# 4. 개발용 패키지는 분리하여 표시

# 설치 방법:
# 기본 설치: pip install -r requirements.txt
# 개발용 설치: pip install -r requirements.txt pytest black flake8
# GPU 사용: tensorflow-gpu는 더 이상 필요없음 (tensorflow가 GPU 자동 지원)

# 가상환경 생성 권장:
# python -m venv venv
# source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate     # Windows
# pip install --upgrade pip
# pip install -r requirements.txt

# 의존성 충돌 해결:
# pip check  # 충돌 확인
# pip install --upgrade --force-reinstall <package_name>  # 강제 재설치

# 메모리 최적화 설정:
# export TF_FORCE_GPU_ALLOW_GROWTH=true
# export TF_GPU_MEMORY_LIMIT=4096  # MB 단위
textblob>=0.17.0,<0.18.0
